<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questify - Inventory</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.9.6/lottie.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

    <div class="container">  <!-- Main Container -->

        <!-- Top Bar (Logo + Navigation) -->
        <div id="top-bar">
            <div id="logo">
                <img src="../assets/logo/QuestifyLogoWhiteNoText.svg" alt="Questify Logo">
            </div>

            <nav id="navbar">
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="inventory.html" class="active">Inventory</a></li>
                    <li><a href="quests.html">Quests</a></li>
                </ul>
            </nav>
        </div>

        <!-- DASHBOARD (SIDEBAR + STATUS SCREEN) -->
        <main id="dashboard">
            <aside id="sidebar">
                <div id="streak-indicator">
                    <p id="streak-text">ðŸ”¥Streak: <span id="streak-count">3</span> Days</p>
                </div>
                <div id="character-picture">
                    <img src="../assets/images/aigenpfp.webp" alt="Character Avatar">
                </div>
            </aside>

            <section id="status-screen">
                <div id="user-info">
                    <h2 id="username">Nick Valor</h2>
                    <p>Level <span id="user-level">37</span></p>
                </div>
            
                <!-- XP Progress Bar -->
                <div id="xp-container">
                    <span id="xp-label">XP</span>
                    <div id="xp-bar">
                        <div id="xp-unfilled"></div>
                        <div id="xp-filled" style="width: 50%;"></div> 
                    </div>
                    <span id="xp-value">500/1000</span>
                </div>
            
                <!-- Stats Bars -->
                <div class="stats">
                    <div class="stat">
                        <span class="stat-name">Strength</span>
                        <div class="stat-bar">
                            <div id="strength-fill" class="stat-fill" style="width: 47%;"></div> 
                        </div>
                        <span id="strength-value">47</span>
                    </div>
                    
                    <div class="stat">
                        <span class="stat-name">Vitality</span>
                        <div class="stat-bar">
                            <div id="vitality-fill" class="stat-fill" style="width: 12%;"></div>
                        </div>
                        <span id="vitality-value">12</span>
                    </div>
            
                    <div class="stat">
                        <span class="stat-name">Intelligence</span>
                        <div class="stat-bar">
                            <div id="intelligence-fill" class="stat-fill" style="width: 35%;"></div> 
                        </div>
                        <span id="intelligence-value">35</span>
                    </div>
            
                    <div class="stat">
                        <span class="stat-name">Agility</span>
                        <div class="stat-bar">
                            <div id="agility-fill" class="stat-fill" style="width: 22%;"></div> 
                        </div>
                        <span id="agility-value">22</span>
                    </div>
                </div>
            </section>
            
        </main> 

        <!-- INVENTORY SECTION -->
        <section id="inventory-section">
            
            <!-- Inventory Tabs -->
            <div id="inventory-tabs-wrapper">
                <div id="inventory-tabs">
                    <button class="tab active" data-tab="items">Items</button>
                    <button class="tab" data-tab="equipment">Equipment</button>
                </div>
            </div>

            <div id="inventory-layout">
                
                <!-- Filters Sidebar -->
                <aside id="inventory-filters">
                    <h3>Filters</h3>
                    <label><input type="checkbox" id="inventory-potions"> Potions</label>
                    <label><input type="checkbox" id="inventory-scrolls"> Scrolls</label>
                    <label><input type="checkbox" id="inventory-special"> Special Items</label>
                    <label><input type="checkbox" id="equipment-headgear"> Headgear</label>
                    <label><input type="checkbox" id="equipment-body"> Body Armor</label>
                    <label><input type="checkbox" id="equipment-boots"> Boots</label>
                    <label><input type="checkbox" id="equipment-weapons"> Weapons</label>
                    <label><input type="checkbox" id="equipment-accessory"> Accessories</label>
                </aside>
            
                <!-- New Wrapper for Sorting & Items Grid -->
                <div id="inventory-content">
                    <!-- Inventory Controls (Sorting) -->
                    <div id="inventory-sort-wrapper">
                        <div id="inventory-controls">
                            <label for="sort-items">Sort By:</label>
                            <select id="sort-items">
                                <option value="rarity">Rarity</option>
                                <option value="alphabetical">A-Z</option>
                            </select>
                        </div>
                    </div>
            
                    <!-- Inventory Grid -->
                    <div id="inventory-grid">
                        <!-- Potions Section -->
                        <div class="inventory-category">
                            <h3>Potions</h3>
                            <div class="inventory-items">
                                <div class="inventory-item" 
                                    data-category="potions" 
                                    data-name="Vitality Potion" 
                                    data-effect="Restores health" 
                                    data-stat="vitality" 
                                    data-amount="10">
                                    <img src="../assets/images/vitality_potion.png" alt="Vitality Potion">
                                    <div class="item-tooltip">Vitality Potion - Restores health</div>
                                </div>

                                <div class="inventory-item" 
                                    data-category="potions" 
                                    data-name="Intelligence Potion" 
                                    data-effect="Boosts intelligence" 
                                    data-stat="intelligence" 
                                    data-amount="10">
                                    <img src="../assets/images/intelligence_potion.png" alt="Intelligence Potion">
                                    <div class="item-tooltip">Intelligence Potion - Boosts mind power</div>
                                </div>

                                <div class="inventory-item" 
                                    data-category="potions" 
                                    data-name="Agility Potion" 
                                    data-effect="Increases speed" 
                                    data-stat="agility" 
                                    data-amount="10">
                                    <img src="../assets/images/agility_potion.png" alt="Agility Potion">
                                    <div class="item-tooltip">Agility Potion - Increases speed</div>
                                </div>
                            </div>
                        </div>

                        <!-- Scrolls Section -->
                        <div class="inventory-category">
                            <h3>Scrolls</h3>
                            <div class="inventory-items">
                                <div class="inventory-item" 
                                    data-category="scrolls" 
                                    data-name="Strength Scroll" 
                                    data-effect="Boosts strength" 
                                    data-stat="strength" 
                                    data-amount="10">
                                    <img src="../assets/images/strength_scroll.png" alt="Strength Scroll">
                                    <div class="item-tooltip">Strength Scroll - Boosts strength</div>
                                </div>

                                <div class="inventory-item" 
                                    data-category="scrolls" 
                                    data-name="XP Scroll" 
                                    data-effect="Grants bonus XP" 
                                    data-stat="xp" 
                                    data-amount="200">
                                    <img src="../assets/images/xp_scroll.png" alt="XP Scroll">
                                    <div class="item-tooltip">XP Scroll - Grants bonus experience</div>
                                </div>
                            </div>
                        </div>

                        <!-- Special Items Section -->
                        <div class="inventory-category">
                            <h3>Special Items</h3>
                            <div class="inventory-items">
                                <div class="inventory-item" 
                                    data-category="special" 
                                    data-name="Ancient Tome" 
                                    data-effect="Boosts Intelligence & Agility" 
                                    data-stat="intelligence,agility" 
                                    data-amount="10">
                                    <img src="../assets/images/ancient_tome.png" alt="Ancient Tome">
                                    <div class="item-tooltip">Ancient Tome - Boosts Intelligence & Agility</div>
                                </div>
                        
                                <div class="inventory-item" 
                                    data-category="special" 
                                    data-name="Arcane Gem" 
                                    data-effect="Enhances Strength & Vitality" 
                                    data-stat="strength,vitality"  
                                    data-amount="10">
                                    <img src="../assets/images/arcane_gem.png" alt="Arcane Gem">
                                    <div class="item-tooltip">Arcane Gem - Enhances Strength & Vitality</div>
                                </div>
                            </div>
                        </div>                        
                    </div>
                </div>
            </div>

        </section>

    </div> <!-- End of Main Container -->

    <!-- Confirmation Modal -->
    <!-- Item Use Confirmation Popup -->
    <div id="item-modal" class="modal hidden">
        <div class="modal-content">
            <h2 id="modal-item-name">Use Item?</h2>
            <p id="modal-item-description">Are you sure you want to use this?</p>
            <div id="item-modal-buttons">
                <button id="use-item-btn">Use</button>
                <button id="cancel-item-btn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer id="footer">
        <p>&copy; 2025 Questify. All rights reserved.</p>
    </footer>

    <!-- Item Modal (For Using/Equipping) -->
    <div id="item-modal" class="hidden">
        <div class="modal-content">
            <h2 id="modal-item-name">Item Name</h2>
            <img id="modal-item-image" src="" alt="Item">
            <p id="modal-item-description">Item description goes here.</p>
            <button id="use-item-btn">Use</button>
            <button id="equip-item-btn">Equip</button>
            <button id="close-modal">Close</button>
        </div>
    </div>

    <!-- Dark Overlay -->
    <div id="lottie-overlay" class="hidden"></div>

    <!-- White Box for Animation -->
    <div id="lottie-modal" class="hidden">
        <div id="lottie-animation"></div>
    </div>

    <script src="../javascript/script.js"></script>
    <script src="../javascript/inventory.js"></script>
</body>
</html>
