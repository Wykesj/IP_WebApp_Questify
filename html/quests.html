<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questify - Quests</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.9.6/lottie.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

    <div class="container">  

        <!-- Top Bar -->
        <div id="top-bar">
            <div id="logo">
                <img src="../assets/logo/QuestifyLogoWhiteNoText.svg" alt="Questify Logo">
            </div>

            <nav id="navbar">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="inventory.html">Inventory</a></li>
                    <li><a href="quests.html" class="active">Quests</a></li>
                </ul>
            </nav>
        </div>

        <!-- DASHBOARD -->
        <main id="dashboard">
            <aside id="sidebar">
                <div id="streak-indicator">
                    <p id="streak-text">üî• Streak: <span id="streak-count">3</span> Days</p>
                </div>
                <div id="character-picture">
                    <img src="../assets/images/aigenpfp.webp" alt="Character Avatar">
                </div>
            </aside>

            <section id="status-screen">
                <div id="user-info">
                    <h2 id="username">Nick Valor</h2>
                    <p>Level <span id="user-level">37</span></p>
                </div>
            
                <!-- XP Progress Bar -->
                <div id="xp-container">
                    <span id="xp-label">XP</span>
                    <div id="xp-bar">
                        <div id="xp-unfilled"></div>
                        <div id="xp-filled" style="width: 50%;"></div> 
                    </div>
                    <span id="xp-value">500/1000</span>
                </div>

                <!-- Stats Bars -->
                <div class="stats">
                    <div class="stat">
                        <span class="stat-name">Strength</span>
                        <div class="stat-bar">
                            <div id="strength-fill" class="stat-fill" style="width: 47%;"></div> 
                        </div>
                        <span id="strength-value">47</span>
                    </div>
                    
                    <div class="stat">
                        <span class="stat-name">Vitality</span>
                        <div class="stat-bar">
                            <div id="vitality-fill" class="stat-fill" style="width: 12%;"></div>
                        </div>
                        <span id="vitality-value">12</span>
                    </div>
            
                    <div class="stat">
                        <span class="stat-name">Intelligence</span>
                        <div class="stat-bar">
                            <div id="intelligence-fill" class="stat-fill" style="width: 35%;"></div> 
                        </div>
                        <span id="intelligence-value">35</span>
                    </div>
            
                    <div class="stat">
                        <span class="stat-name">Agility</span>
                        <div class="stat-bar">
                            <div id="agility-fill" class="stat-fill" style="width: 22%;"></div> 
                        </div>
                        <span id="agility-value">22</span>
                    </div>
                </div>
            </section>
            
        </main> 

        <!-- QUESTS PAGE -->
        <div id="quest-container">
            <main id="boss-dashboard">
                
                <!-- Quest Boss Section -->
                <section id="questboss-section">
                    <h2>Twilight Dragon</h2>
                    <div id="boss-container">
                        <img id="boss-image" src="../assets/images/dragon1.png" alt="Boss Image">
                        <div id="boss-hp-bar">
                            <div id="boss-hp-filled" style="width: 100%;"></div>
                        </div>
                        <p id="boss-hp-text">HP: <span id="boss-hp-value">100</span> / <span id="boss-hp-max">100</span></p>
                    </div>
                </section>

                <!-- Quest List Section -->
                <section id="quest-section">
                    <h2>üìú Quests</h2>
                    <ul id="quest-list">
                        <li class="quest">
                            <p>‚úÖ Do 10 Push-ups</p>
                            <button class="complete-btn" data-damage="20">Complete (- 20 HP)</button>
                        </li>
                        <li class="quest">
                            <p>‚úÖ Drink Water</p>
                            <button class="complete-btn" data-damage="30">Complete (- 30 HP)</button>
                        </li>
                        <li class="quest">
                            <p>‚úÖ Walk 10,000 Steps</p>
                            <button class="complete-btn" data-damage="50">Complete (- 50 HP)</button>
                        </li>
                    </ul>
                </section>
                
            </main>

            <!-- Battle Log -->
            <section id="battle-log">
                <h2>‚öîÔ∏è Battle Log</h2>
                <div id="log-container">
                    <p class="battle-entry" id="default-log">No actions yet...</p>
                </div>
            </section>
        </div>
    </div> 

    <!-- Footer -->
    <footer id="footer">
        <p>&copy; 2025 Questify. All rights reserved.</p>
    </footer>

    <!-- Lottie Animation Modal for Boss Defeat -->
    <div id="lottie-boss-defeat-overlay" class="hidden"></div>
    <div id="lottie-boss-defeat-modal" class="hidden">
        <div id="lottie-boss-defeat-animation"></div>
    </div>

    <!-- Lottie Animation Modal for Quest Completion -->
    <div id="lottie-complete-overlay" class="hidden"></div>
    <div id="lottie-complete-modal" class="hidden">
        <div id="lottie-complete-animation"></div>
    </div>

    <!-- Load JavaScript -->
    <script src="../javascript/script.js"></script>
    <script src="../javascript/inventory.js"></script>
    <script src="../javascript/quests.js"></script>
</body>
</html>
